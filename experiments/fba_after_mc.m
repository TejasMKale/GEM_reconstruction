mets = {'cpd00004[c0]','cpd00005[c0]','cpd00022[c0]','cpd00070[c0]','cpd00078[c0]','cpd00104[c0]','cpd00125[c0]','cpd00216[c0]','cpd00244[c0]','cpd11574[c0]','cpd15353[c0]','cpd15529[p0]','cpd15531[p0]','cpd15538[p0]','cpd20849[c0]','cpd24604[c0]'};

stoic = {0.00004466,0.000335,0.0002791,0.000031266,0.00009826,2e-006,0.000223,0.000223,0.00318573,0.0031857,0.000223,0.03945960, 0.02916579,0.0233950,0.0109330, 0.000223};
l = length(mets);
check = readCbModel('hi467_LB.xml');
flux = [];

name = {'pe140_rxn','pe160_rxn','pg160_1rxn','pg160_2rxn','biotin_trf','biotin_ex','biotin_atp','biotin_h','biotin_fe','Lipooligo'};


reactions = printRxnFormula(test,{'pe140_rxn','pe160_rxn','pg160_1rxn','pg160_2rxn','biotin_trf','biotin_ex','biotin_atp','biotin_h','biotin_fe','Lipooligo'});


for j=1:numel(name)
        check = addReaction(check,name{j},'reactionFormula',reactions{j});
end

%find(test.c)
for i=1:l 
    reaction = sprintf('48.8254 cpd00001[c0] + 0.000223 cpd00056[c0] + 0.000223 cpd00220[c0] + 54.0649 cpd00002[c0] + 0.0017866 cpd00003[c0]  + 0.0071678 cpd10515[c0] + 0.0071678 cpd10516[c0] + 0.000223 cpd00042[c0] + 0.00011166 cpd00006[c0] + 0.000168 cpd00010[c0] + 0.128439 cpd00062[c0] + 0.000223 cpd00015[c0] + 0.000223 cpd00016[c0] + 0.123098 cpd00060[c0] + 0.000223 cpd00017[c0] + 0.299027 cpd00054[c0] + 0.332879 cpd00023[c0] + 0.236964 cpd00053[c0] + 0.422638 cpd00035[c0] + 0.000223 cpd00028[c0] +   0.119789 cpd00038[c0] + 0.260045 cpd00041[c0] + 0.341598 cpd00033[c0] + 0.324159 cpd00039[c0] + 0.252865 cpd00132[c0] +   0.0039821 cpd00048[c0] + 0.228758 cpd00051[c0] + 0.15698 cpd00052[c0] + 0.0332704 cpd00118[c0] + 0.058472 cpd00065[c0] +  0.228245 cpd00066[c0] + 0.161054 cpd00069[c0] + 0.051804 cpd00084[c0] + 0.000223 cpd00087[c0] + 0.000223 cpd00201[c0]  +   0.000223 cpd00345[c0] + 0.269791 cpd00161[c0] + 0.535478 cpd00107[c0] + 0.034337 cpd00115[c0] + 0.105147 cpd00119[c0] +   0.021189 cpd00241[c0] + 0.00674427 cpd00264[c0] + 0.034337 cpd00357[c0] + 0.362115 cpd00322[c0] + 0.021189 cpd00356[c0] + 0.00477859 cpd00099[c0] + 5.5352e-05 cpd02229[c0] + 0.0031857 cpd00030[c0] + 0.00318573 cpd00034[c0] + 0.0031857 cpd00149[c0] +  0.00394667 cpd11493[c0] + 0.00477859 cpd00063[c0] + 0.34365 cpd00156[c0] +  0.191828 cpd00129[c0] + 0.0031857 cpd00058[c0] + 0.179197 cpd00205[c0] + 0.00796433 cpd00254[c0] + 0.0068808 cpd15540[c0] + 0.0085781 cpd15533[c0] + 0.0104045 cpd15695[c0] + 0.0104045 cpd15696[c0] + 0.0104045 cpd15722[c0] + 0.0104045 cpd15723[c0] + 0.00394667 cpd00166[c0] + 0.00394667 cpd00557[c0] +  0.0104045 cpd15793[c0] + 0.0104045 cpd15794[c0] + 0.0104045 cpd15795[c0] + 0.0137989 cpd15432[c0] + 0.0137989 cpd15665[c0] + %s %s  	->	0.631184 cpd00012[c0] + 53.946 cpd00009[c0] + 53.95 cpd00067[c0] + 53.95 cpd00008[c0] + 0.00394667 cpd12370[c0] + 0.00394667 cpd01997[c0] + 0.00394667 cpd03422[c0] + 0.0137989 cpd15666[c0] + cpd11416[c0]' ,stoic{i},mets{i});
    [check,bio1 ] = addReaction(check,'bio1', 'reactionFormula',reaction);
    sol = optimizeCbModel(check);
    flux = [flux,sol.f];
end